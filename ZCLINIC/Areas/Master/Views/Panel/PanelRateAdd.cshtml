@using ZCLINIC
@model ZCLINIC.Areas.Master.Models.PanelRate

@{
    string URL = Model == null ? "/Master/PanelRate/SavePanelRate" : "/Master/PanelRate/UpdatePanelRate";
    int counter = 0;
}

<style>
    /*Remove Arrows/Spinners from type number*/
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    /* Firefox */
    input[type=number] {
        -moz-appearance: textfield;
    }
</style>

<form method="post" data-url="@URL" data-rurl="/Master/PatientReg" data-display="FeeVoucher">



    @Html.HiddenFor(m => m.Id)
    <div class="row">



        <div class="form-group form-group-xs col-md-12">












            <div class="form-group form-group-xs col-md-6">
                <label>Panel Id<b class="wysiwyg-color-red"></b></label>
                @Html.TextBoxFor(m => m.PanelId, new { @class = "form-control", type = "text", @readonly = "readonly" })

            </div>




            <div class="form-group form-group-xs col-md-6">
                <label>Panel Name<b class="wysiwyg-color-red"></b></label>
                @Html.TextBoxFor(m => m.PanelName, new { @class = "form-control", type = "text", @readonly = "readonly" })

            </div>







            @*<div class="form-group form-group-xs col-md-2">
                    <label>*<b class="wysiwyg-color-red"></b></label>
                    @{

                        var Status = new List<(int Id, string Name)>();
                        Status.Add((Id: 0, Name: "S/O"));
                        Status.Add((Id: 1, Name: "D/O"));
                        Status.Add((Id: 2, Name: "W/O"));



                    }
                    @Html.DropDownList("LeaveF", Status.Select(p => new SelectListItem() { Text = p.Name, Value = p.Name.ToString() }), new { @class = "form-control", data_style = "btn-default btn-xs", tabindex = '4', data_search = "true", data_width = "100%" })

                </div>*@












        </div>
    </div>


    @{
        List<ZCLINIC.Areas.Master.Models.ClinicServices> ClinicServices = new ZCLINIC.Areas.Master.Models.ClinicServices().Master_ClinicServicesGetAll(Context.Session.GetBValues(), Context.GetIP(), Context.GetCInfo());
        // Master_SubAccount.Insert(0, new ZCLINIC.Areas.Master.Models.Master_SubAccount { Sub_accountCode = "0", Subacc_Name = "Select Account Name" });
    }





    <div class="clearfix"></div>


    <div class="panel-body form-group panel panel-flat mt-5" style="height:322px; width:100%; overflow-y:auto;" id="table-div">


        <div class="table-responsive container-fluid quotaiontable">
            <table class="table table-xxs table-md table-bordered table-striped table-hover bg-lightgray dataTables_scrollBody">




                <thead>
                    <tr class="bg-blue-800">

                        <th class="col-lg-3">Services  Name</th>
                        <th class="col-lg-1">Rate</th>


                        <th class="col-lg-1">Actions</th>



                    </tr>

                    <tr>





                        <th class="col-md-5">
                            @Html.DropDownList("serId", ClinicServices.Select(p => new SelectListItem() { Text = p.ServicesName.ToString(), Value = p.ServicesId.ToString() }), new { @class = "bootstrap-select vatratecal", data_live_search = "true", data_width = "100%" })

                        </th>
                        <th class="col-md-1"><input type="text" class="form-control Ratefield TxtBox" , id="Rate" /></th>
                       

                        <th class="col-lg-1"><a class="icon-add text-primary" id="AddItemBtn"></a></th>
                    </tr>


                </thead>


                <tbody class="VoucherDetail">
                    @*@if (Model != null)
                        {
                            foreach (var item in Model.FeeVoucherDetail)
                            {
                                counter++;


                                <tr>






                                    <td><input type="text" class="form-control Remarksfield" value="@item.GRId"></td>

                                    <td><input type="text" class="form-control Debitfield" value="@item.GrNo"></td>
                                    <td><input type="text" class="form-control Creditfield" value="@item.MontlyAmt"></td>


                                    <td><a id=""><i class="icon-trash removeitem text-danger-600"></i></a></td>
                                </tr>
                            }
                        }*@

                </tbody>










                @*<tfoot>
                        <tr>

                            <td colspan="2"></td>
                            <td class="text-right">Total Amount</td>
                            <td>@Html.TextBoxFor(m => m.AdAmt, new { @class = "form-control", type = "number", @readonly = "readonly" })</td>



                            <td>@Html.TextBoxFor(m => m.AnnAmt, new { @class = "form-control", type = "number", @readonly = "readonly" })</td>
                            <td>@Html.TextBoxFor(m => m.MontlyAmt, new { @class = "form-control", type = "number", @readonly = "readonly" })</td>
                            <td>@Html.TextBoxFor(m => m.MDisAmt, new { @class = "form-control", type = "number", @readonly = "readonly" })</td>

                            <td>@Html.TextBoxFor(m => m.TAmount, new { @class = "form-control", type = "number", @readonly = "readonly" })</td>



                        </tr>

                    </tfoot>*@
















            </table>




        </div>


    </div>





    <div class="modal-footer mt-10 no-padding no-border">




        <button type="button" class="btn btn-danger btn-xs" data-dismiss="modal"><i class="icon-cross"></i>Close</button>
        <button type="button" data-submit="true" class="btn btn-primary btn-xs"><i class="icon-floppy-disk position-left"></i>Save</button>
        @* <button type="button" data-submit="" class="btn btn-primary btn-xs SaveBtn"><i class="icon-floppy-disk position-left"></i>Save</button>*@

    </div>

</form>





<script>



    $('#serId').change(function () {
        let Id = parseInt($('#serId').val());

        //debugger;

        $('#serId').val(Id)


        GetJSONRequest('/Master/ClinicServices/Master_ClinicServicesGetIdServices', 'GET', { Id }, data => {

            if (data && data.length > 0) {




                $('#Rate').val(data[0].Rate);



            }

            else {
                ErrorAlert("No Records Found");
            }





            /// $('#Comp_id').attr('disabled', 'true')

        })


    })







</script>