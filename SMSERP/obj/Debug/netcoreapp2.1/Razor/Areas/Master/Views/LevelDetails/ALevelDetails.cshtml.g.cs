#pragma checksum "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2f136e30153a77690ded9d63b678be3b11dc3289"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Master_Views_LevelDetails_ALevelDetails), @"mvc.1.0.view", @"/Areas/Master/Views/LevelDetails/ALevelDetails.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Areas/Master/Views/LevelDetails/ALevelDetails.cshtml", typeof(AspNetCore.Areas_Master_Views_LevelDetails_ALevelDetails))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 3 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
using ZCLINIC;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2f136e30153a77690ded9d63b678be3b11dc3289", @"/Areas/Master/Views/LevelDetails/ALevelDetails.cshtml")]
    public class Areas_Master_Views_LevelDetails_ALevelDetails : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<ZCLINIC.Areas.Master.Models.LevelDetails>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(0, 4, true);
            WriteLiteral("\r\n\r\n");
            EndContext();
            BeginContext(69, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 6 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
  
    string URL = Model == null ? "/Master/LevelDetails/SaveLevelDetails" : "/Master/LevelDetails/UpdateLevelDetails";

    List<ZCLINIC.Areas.Master.Models.Product> Product = new ZCLINIC.Areas.Master.Models.Product().Master_ProductGetAll(Context.Session.GetBValues(), Context.GetIP(), Context.GetCInfo());



#line default
#line hidden
            BeginContext(391, 45, true);
            WriteLiteral("\r\n<form class=\"form-horizontal\" method=\"post\"");
            EndContext();
            BeginWriteAttribute("id", " id=\"", 436, "\"", 441, 0);
            EndWriteAttribute();
            BeginContext(442, 11, true);
            WriteLiteral(" data-url=\"");
            EndContext();
            BeginContext(454, 3, false);
#line 14 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
                                                       Write(URL);

#line default
#line hidden
            EndContext();
            BeginContext(457, 69, true);
            WriteLiteral("\" data-display=\"Master\" data-rurl=\"/Master/Master_Deparment\">\r\n\r\n    ");
            EndContext();
            BeginContext(527, 25, false);
#line 16 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
Write(Html.HiddenFor(m => m.Id));

#line default
#line hidden
            EndContext();
            BeginContext(552, 254, true);
            WriteLiteral("\r\n\r\n    <div class=\"row\">\r\n\r\n        <div class=\"form-group form-group-xs\">\r\n            <label class=\"control-label col-sm-4\">LevelId<b class=\"wysiwyg-color-red\">*</b></label>\r\n            <div class=\"form-group has-feedback col-sm-4\">\r\n                ");
            EndContext();
            BeginContext(807, 115, false);
#line 23 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
           Write(Html.TextBoxFor(m => m.classId, new { @class = "form-control input-group", type = "text", @readonly = "readonly" }));

#line default
#line hidden
            EndContext();
            BeginContext(922, 55, true);
            WriteLiteral("\r\n                <div class=\"form-control-feedback\"><i");
            EndContext();
            BeginWriteAttribute("class", " class=\"", 977, "\"", 985, 0);
            EndWriteAttribute();
            BeginContext(986, 280, true);
            WriteLiteral(@"></i></div>
            </div>
        </div>

        <div class=""form-group form-group-xs"">
            <label class=""control-label col-sm-4"">Level Name <b class=""wysiwyg-color-red"">*</b></label>
            <div class=""form-group has-feedback col-sm-8"">
                ");
            EndContext();
            BeginContext(1267, 170, false);
#line 31 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
           Write(Html.TextBoxFor(m => m.Classname, new { @class = "form-control input-group", placeholder = "Supplier Name", type = "text", required = "required",@readonly = "readonly" }));

#line default
#line hidden
            EndContext();
            BeginContext(1437, 55, true);
            WriteLiteral("\r\n                <div class=\"form-control-feedback\"><i");
            EndContext();
            BeginWriteAttribute("class", " class=\"", 1492, "\"", 1500, 0);
            EndWriteAttribute();
            BeginContext(1501, 53, true);
            WriteLiteral("></i></div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n");
            EndContext();
            BeginContext(1986, 1064, true);
            WriteLiteral(@"

      


            <div class=""table-responsive container-fluid quotaiontable"">
                <table class=""table table-xxs table-md table-bordered table-striped table-hover bg-lightgray dataTables_scrollBody"">




                    <thead>
                        <tr class=""bg-blue-800"">

                            <th class=""col-lg-3"">Product Name</th>
                            <th class=""col-lg-1"">Qty</th>
                            <th class=""col-lg-1"">Rate</th>

                            <th class=""col-lg-1"">DisAmt</th>
                            <th class=""col-lg-1"">TotalAmt</th>


                            <th class=""col-lg-1"">Actions</th>



                        </tr>

                        <tr>
                            <th class=""col-lg-4"">
                                <select id=""ProductName"" class=""form-control bootstrap-select"" data-style=""btn-default btn-xs"" data-search=""true"" data-width=""100%"">
                                    <option");
            WriteLiteral(" value=\"0\">--Select Product--</option>\r\n");
            EndContext();
#line 73 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
                                     foreach (var item in Product)
                                    {

#line default
#line hidden
            BeginContext(3157, 47, true);
            WriteLiteral("                                        <option");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3204, "\"", 3227, 1);
#line 75 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
WriteAttributeValue("", 3212, item.ProductId, 3212, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3228, 1, true);
            WriteLiteral(">");
            EndContext();
            BeginContext(3230, 16, false);
#line 75 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
                                                                   Write(item.ProductName);

#line default
#line hidden
            EndContext();
            BeginContext(3246, 11, true);
            WriteLiteral("</option>\r\n");
            EndContext();
#line 76 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
                                    }

#line default
#line hidden
            BeginContext(3296, 506, true);
            WriteLiteral(@"                                </select>

                            </th>





                            <th><input class=""form-control"" id=""Qty"" type=""number"" /></th>

                            <th><input class=""form-control"" id=""Rate"" type=""number"" /></th>


                            <th><input class=""form-control"" id=""DisAmt"" type=""number"" /></th>


                            <th><input class=""form-control"" id=""TotalAmt"" type=""number"" readonly /></th>










");
            EndContext();
            BeginContext(4262, 593, true);
            WriteLiteral(@"



                            <td>

                                <a id=""btn_add"" class=""text-primary-600""><i class=""icon-add""></i></a>

                            </td>

                        </tr>


                    </thead>


                    <tbody id=""tbodytable"">
                       

                    </tbody>










                    <tfoot>
                        <tr>

                            <td colspan=""3""></td>
                            <td class=""text-right"">Total Amount</td>

                            <td>");
            EndContext();
            BeginContext(4856, 102, false);
#line 150 "C:\Users\Administrator\Documents\GitHub\CLINIC\SMSERP\Areas\Master\Views\LevelDetails\ALevelDetails.cshtml"
                           Write(Html.TextBoxFor(m => m.TAmt, new { @class = "form-control", type = "number", @readonly = "readonly" }));

#line default
#line hidden
            EndContext();
            BeginContext(4958, 202, true);
            WriteLiteral("</td>\r\n\r\n\r\n\r\n                        </tr>\r\n\r\n                    </tfoot>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                </table>\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n\r\n        \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n");
            EndContext();
            BeginContext(5509, 5524, true);
            WriteLiteral(@"
    </div>

</form>
<script>



    var classId = $('#classId').val();
    productDetail(classId);




    $('#btn_add').on('click', function () {

        var ProductName = $('#ProductName').val();
        var Qty = $('#Qty').val();
        var Rate = $('#Rate').val();
        var DisAmt = $('#DisAmt').val();
        var TotalAmt = $('#TotalAmt').val();

        //var Session_ID = $('#Session_ID').val();


        var check = false;






        if (ProductName == 0 || ProductName == null) {
            ErrorAlert(""Enter Product  Name"");
            check = true;
        }

        if (Qty ==  null) {
            ErrorAlert(""Enter Qty  Name"");
            check = true;
        }

        if (Rate == null) {
            ErrorAlert(""Enter Rate  Name"");
            check = true;
        }

        if (DisAmt == null) {
            ErrorAlert(""Enter DisAmt  Name"");
            check = true;
        }

        if (TotalAmt == null) {
            ErrorAlert(""E");
            WriteLiteral(@"nter TotalAmt  Name"");
            check = true;
        }

       





        if (!check) {


            // GetSchoolFee(Supcode, MonthID, Session_ID);












            var model = []



            model = {
                classId: $('#classId').val(),
                Id: ""0"",
                Product: parseInt($('#ProductName option:selected').val()),
                Qty: $('#Qty').val(),
                rate: $('#Rate').val(),
                DisAmt: $('#DisAmt').val(),
                Amount: $('#TotalAmt').val()
             
               







            }


            





            console.log(model);
            ///console.log(PurchaseDetail);











          

                debugger;
            GetJSONRequest('/Master/LevelDetails/SaveLevelDetails', 'POST', { model}, function (data) {
                    SuccessAlert(""Data Saved"");
                var classId = $('#classId').val();
                ");
            WriteLiteral(@"productDetail(classId);


          $('#ProductName').val('');
          $('#Qty').val('');
          $('#Rate').val('');
                $('#DisAmt').val('');
                $('#TotalAmt').val('');



                });
         
          
            }




        








    });

    $('#Rate,#Qty,#DisAmt').change(function () {


        var Rate = $('#Rate').val() || 0;
        var Qty = $('#Qty').val() || 0;
       
        var DisAmt = $('#DisAmt').val() || 0;


        //  var Qty = $('#Qty').val() || 0;


      




     
        var TAmt = 0;
     



        TAmt = Rate * Qty;

        Total_Amt = TAmt  - DisAmt;
        debugger;

        // $('#Rate').val(TAmt.toFixed(2));
        $('#TotalAmt').val(Total_Amt.toFixed(2));
        









        // $('#TotalAmount').val(parseInt($(this).val()) * parseInt(Price));
    })


    function productDetail(id) {



        GetJSONRequest('/Master/LevelDetails/GetProductLis");
            WriteLiteral(@"t', 'GET', { id }, data => {


            debugger;
            let i = 0;


            $('#tbodytable').empty();
            if (data && data.length > 0) {
                
                for (const item of data) {
                    i++;
                    let markup = `<tr>

	
                     <td><input hidden class=""ProductName"" readonly value=""${item.ProductId}"" />${item.ProductName}</td>
                     <td><input class=""Qty form-control"" readonly value=""${item.Qty}"" /></td>
                     <td><input class=""rate form-control"" readonly value=""${item.rate}"" /></td>
                     <td><input class=""DisAmt form-control"" readonly value=""${item.DisAmt}"" /></td>
                     <td><input class=""Amount form-control"" readonly value=""${item.Amount}"" />
                    <input type=""hidden"" class=""form-control Id"" readonly value=""${item.Id}"">

                    </td>
                    
                    <td><a class=""btn_delete text-danger-600""><i c");
            WriteLiteral(@"lass=""icon-trash""></i></a></td>



			
                  </tr>`;

                    $('#tbodytable').append(markup);

                }


                debugger;
                CalculateTotalAmount();
                // console.log(data);
                ///   DropDown2Initializers();
                //    $('#Supcode').val(data[0].Supcode).change();

                //$('#Remarks').val(data[0].Remarks);
                //$('#ItemId').val(data[0].ItemId).change();
                //$('#Category').val(data[0].Category).change();
                //	$('#ReqDate').val(data[0].ReqDate);



                return;
            }
            ErrorAlert('No Record Found');
        })

    }



    function CalculateTotalAmount() {
        let TotalAmount = 0;
        $('.Amount').each(function () {
            TotalAmount += parseFloat($(this).val());
        })
        $('#TAmt').val(TotalAmount);
    }





    $('#tbodytable').delegate('.btn_delete', 'click', funct");
            WriteLiteral(@"ion () {
        const id = parseInt($(this).closest('tr').children().eq(4).find('.Id').val());
       
        GetJSONRequest('/Master/LevelDetails/DeleteLevelDetails', 'POST', { id }, function (data) {
            SuccessAlert(""Data Saved"");

            var classId = $('#classId').val();
            productDetail(classId);



        })

       
    })











</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<ZCLINIC.Areas.Master.Models.LevelDetails> Html { get; private set; }
    }
}
#pragma warning restore 1591
